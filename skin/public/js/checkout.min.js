!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.MagicAddress=t()}}(function(){var t;return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n||t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,n,r){(function(i,o){!function(e,i){"object"==typeof r&&void 0!==n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.ES6Promise=i()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function r(t){K=t}function s(t){R=t}function u(){return void 0!==J?function(){J(a)}:c()}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<H;t+=2){(0,V[t])(V[t+1]),V[t]=void 0,V[t+1]=void 0}H=0}function f(t,e){var n=arguments,r=this,i=new this.constructor(h);void 0===i[tt]&&L(i);var o=r._state;return o?function(){var t=n[o-1];R(function(){return P(o,i,t,r._result)})}():A(r,i,t,e),i}function l(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(h);return _(n,t),n}function h(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(t){return it.error=t,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function m(t,e,n){R(function(t){var r=!1,i=y(n,e,function(n){r||(r=!0,e!==n?_(t,n):j(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,E(t,i))},t)}function b(t,e){e._state===nt?j(t,e._result):e._state===rt?E(t,e._result):A(e,void 0,function(e){return _(t,e)},function(e){return E(t,e)})}function g(t,e,r){e.constructor===t.constructor&&r===f&&e.constructor.resolve===l?b(t,e):r===it?E(t,it.error):void 0===r?j(t,e):n(r)?m(t,e,r):j(t,e)}function _(e,n){e===n?E(e,p()):t(n)?g(e,n,v(n)):j(e,n)}function w(t){t._onerror&&t._onerror(t._result),O(t)}function j(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&R(O,t))}function E(t,e){t._state===et&&(t._state=rt,t._result=e,R(w,t))}function A(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+nt]=n,i[o+rt]=r,0===o&&t._state&&R(O,t)}function O(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?P(n,r,i,o):i(o);t._subscribers.length=0}}function T(){this.error=null}function S(t,e){try{return t(e)}catch(t){return ot.error=t,ot}}function P(t,e,r,i){var o=n(r),s=void 0,u=void 0,c=void 0,a=void 0;if(o){if(s=S(r,i),s===ot?(a=!0,u=s.error,s=null):c=!0,e===s)return void E(e,d())}else s=i,c=!0;e._state!==et||(o&&c?_(e,s):a?E(e,u):t===nt?j(e,s):t===rt&&E(e,s))}function x(t,e){try{e(function(e){_(t,e)},function(e){E(t,e)})}catch(e){E(t,e)}}function C(){return st++}function L(t){t[tt]=st++,t._state=void 0,t._result=void 0,t._subscribers=[]}function M(t,e){this._instanceConstructor=t,this.promise=new t(h),this.promise[tt]||L(this.promise),G(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&j(this.promise,this._result))):E(this.promise,N())}function N(){return new Error("Array Methods must be provided an Array")}function k(t){return new M(this,t).promise}function q(t){var e=this;return new e(G(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function F(t){var e=this,n=new e(h);return E(n,t),n}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function I(t){this[tt]=C(),this._result=this._state=void 0,this._subscribers=[],h!==t&&("function"!=typeof t&&D(),this instanceof I?x(this,t):U())}function Y(){var t=void 0;if(void 0!==o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=I}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var G=z,H=0,J=void 0,K=void 0,R=function(t,e){V[H]=t,V[H+1]=e,2===(H+=2)&&(K?K(a):Z())},W="undefined"!=typeof window?window:void 0,X=W||{},$=X.MutationObserver||X.WebKitMutationObserver,B="undefined"==typeof self&&void 0!==i&&"[object process]"==={}.toString.call(i),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,V=new Array(1e3),Z=void 0;Z=B?function(){return function(){return i.nextTick(a)}}():$?function(){var t=0,e=new $(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Q?function(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}():void 0===W&&"function"==typeof e?function(){try{var t=e,n=t("vertx");return J=n.runOnLoop||n.runOnContext,u()}catch(t){return c()}}():c();var tt=Math.random().toString(36).substring(16),et=void 0,nt=1,rt=2,it=new T,ot=new T,st=0;return M.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===et&&n<t;n++)this._eachEntry(e[n],n)},M.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===l){var i=v(t);if(i===f&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===I){var o=new n(h);g(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},M.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===et&&(this._remaining--,t===rt?E(r,n):this._result[e]=n),0===this._remaining&&j(r,this._result)},M.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){return n._settledAt(nt,e,t)},function(t){return n._settledAt(rt,e,t)})},I.all=k,I.race=q,I.resolve=l,I.reject=F,I._setScheduler=r,I._setAsap=s,I._asap=R,I.prototype={constructor:I,then:f,catch:function(t){return this.then(null,t)}},I.polyfill=Y,I.Promise=I,I})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],2:[function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var a in n)i.call(n,a)&&(u[a]=n[a]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},{}],3:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function u(){y&&d&&(y=!1,d.length?v=d.concat(v):m=-1,v.length&&c())}function c(){if(!y){var t=o(u);y=!0;for(var e=v.length;e;){for(d=v,v=[];++m<e;)d&&d[m].run();m=-1,e=v.length}d=null,y=!1,s(t)}}function a(t,e){this.fun=t,this.array=e}function f(){}var l,h,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,v=[],y=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new a(t,e)),1!==v.length||y||o(c)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],4:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=t("es6-promise"),o=r(i),s=t("object-assign"),u=r(s);o.default.polyfill();var c={DEFAULTS:{API:"https://api.postmon.com.br/v1/cep",selectors:{inputCEP:".js-input-cep",inputAddress:".js-input-address",inputNumber:".js-input-number",inputNeighborhood:".js-input-neighborhood",inputCity:".js-input-city",inputState:".js-input-state"}},start:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.settings=(0,u.default)({},this.DEFAULTS,t),this._setupElements()._bindEvents(),this},_setupElements:function(){var t=null,e=this.settings.selectors;this.elements={};for(t in e)e.hasOwnProperty(t)&&(this.elements[t]=document.querySelector(e[t]));return this},_bindEvents:function(){return this.elements.inputCEP.addEventListener("blur",this.getAddress.bind(this)),this},_queryAPI:function(t){var e=this;return new o.default(function(n,r){var i=new XMLHttpRequest;i.open("GET",e.settings.API+"/"+t),i.addEventListener("load",function(){4===i.readyState&&200===i.status?n(JSON.parse(i.response)):r(Error(i.statusText))}),i.addEventListener("error",function(){r(Error("Unknown Network Error"))}),i.send()})},getAddress:function(t){var e=/^[0-9]{8}$/,n=t.target.value.replace(/\D/g,"");if(n&&e.test(n))return this._queryAPI(n).then(this.fillForm.bind(this)).catch(this.clearForm.bind(this)),this;this.clearForm()},fillForm:function(t){var e=this.elements;return e.inputAddress.value=t.logradouro||"",e.inputNeighborhood.value=t.bairro||"",e.inputCity.value=t.cidade,e.inputState.value=t.estado,this},clearForm:function(){var t=null,e=this.elements;for(t in e)e.hasOwnProperty(t)&&(e[t].value="");return this}};e.exports=c},{"es6-promise":1,"object-assign":2}]},{},[4])(4)}),document.addEventListener("DOMContentLoaded",function(){MagicAddress.start({selectors:{inputCEP:".input-zip, #zip",inputAddress:".input-address1",inputNumber:".input-address2",inputNeighborhood:".input-address4",inputCity:".input-city, #city",inputState:".input-region, #region"}})});